generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id         Int      @id @default(autoincrement())
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
  role       Role     @default(ADMIN)
  username   String
  password   String
}

model Participant {
  id               Int        @id @default(autoincrement())
  created_at       DateTime   @default(now())
  updated_at       DateTime   @updatedAt
  email            String     @unique
  first_name       String
  last_name        String
  shirt_size       TShirtSize
  gender           String
  college          String
  devfolio_profile String
  mobile           String
  valid            Boolean    @default(true)
  referral_code    String
  // created_at       DateTime   @default(now())
}

model Team {
  id             Int      @id @default(autoincrement())
  created_at     DateTime @default(now())
  updated_at     DateTime @updatedAt
  fk_leader_uid  Int
  name           String
  problem        String
  submission_url String
}

model TeamMember {
  id         Int      @id @default(autoincrement())
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
  fk_uid     Int
  fk_team_id Int
}

model Activity {
  id         Int      @id @default(autoincrement())
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
  name       String
}

model Attended {
  id             Int      @id @default(autoincrement())
  created_at     DateTime @default(now())
  updated_at     DateTime @updatedAt
  fk_uid         Int
  fk_activity_id Int
  attended       Boolean
}

enum Role {
  SUPERADMIN
  ADMIN
}

enum TShirtSize {
  XS
  S
  M
  L
  XL
  XXL
  XXXL
}
